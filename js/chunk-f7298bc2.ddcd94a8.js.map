{"version":3,"sources":["webpack:///./node_modules/@babel/runtime-corejs2/core-js/date/now.js","webpack:///./src/views/Edit.vue?e284","webpack:///src/views/Edit.vue","webpack:///./src/views/Edit.vue?34a4","webpack:///./src/views/Edit.vue","webpack:///./node_modules/core-js/library/modules/es6.date.now.js","webpack:///./node_modules/core-js/library/fn/date/now.js"],"names":["module","exports","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","attrs","active","isLoading","on","update:active","$event","staticClass","click","backData","_v","_s","tempData","title","updateData","directives","name","rawName","value","expression","type","placeholder","domProps","input","target","composing","$set","errors","has","_e","staticRenderFns","Editvue_type_script_lang_js_","data","methods","_this","$validator","validate","then","result","$store","dispatch","state","isNew","$router","push","concat","cid","console","log","_this2","go","setTimeout","getSingleData","getDate","n","now_default","d","Date","y","getFullYear","m","getMonth","dt","hour","getHours","min","getMinutes","sec","getSeconds","minis","getMilliseconds","day","computed","edit","author","watch","this.$store.state.tempData","created","_this3","$route","query","to","undefined","publicationDate","views_Editvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","$export","S","now","getTime"],"mappings":"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","file":"js/chunk-f7298bc2.ddcd94a8.js","sourcesContent":["module.exports = require(\"core-js/library/fn/date/now\");","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"wrap\"},[_c('nav',{staticClass:\"Content__P\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.backData}},[_vm._v(\"Back\")]),(_vm.isNew)?_c('div',{staticClass:\"Content__title\"},[_vm._v(\"Add new book\")]):_c('div',{staticClass:\"Content__title\"},[_vm._v(_vm._s(_vm.tempData.title))]),_c('div',{staticClass:\"edit\",on:{\"click\":_vm.updateData}},[_vm._v(\"Save\")])]),_c('section',{staticClass:\"Edit__b\"},[_c('div',{staticClass:\"Edit\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempData.author),expression:\"tempData.author\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Author\",\"name\":\"name\"},domProps:{\"value\":(_vm.tempData.author)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempData, \"author\", $event.target.value)}}}),(_vm.errors.has('name'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"姓名必須輸入\")]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempData.publicationDate),expression:\"tempData.publicationDate\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Created at\",\"name\":\"date\"},domProps:{\"value\":(_vm.tempData.publicationDate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempData, \"publicationDate\", $event.target.value)}}}),(_vm.errors.has('date'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"時間必須輸入\")]):_vm._e(),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempData.description),expression:\"tempData.description\"},{name:\"validate\",rawName:\"v-validate\",value:('required|min:10'),expression:\"'required|min:10'\"}],attrs:{\"name\":\"msg\"},domProps:{\"value\":(_vm.tempData.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempData, \"description\", $event.target.value)}}}),(_vm.errors.has('msg'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"內文需超過十個字\")]):_vm._e()])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <loading :active.sync=\"isLoading\"></loading>\n        <div class=\"wrap\">\n            <nav class=\"Content__P\">\n                <div class=\"back\" @click=\"backData\">Back</div>\n                <div class=\"Content__title\" v-if=\"isNew\">Add new book</div>\n                <div class=\"Content__title\" v-else>{{tempData.title}}</div>\n                <div class=\"edit\" @click=\"updateData\">Save</div>\n            </nav>\n            <section class=\"Edit__b\">\n                <div class=\"Edit\">\n                    <input type=\"text\" placeholder=\"Author\" v-model=\"tempData.author\"\n                    v-validate=\"'required'\" name=\"name\">\n                    <span class=\"text-danger\" v-if=\"errors.has('name')\">姓名必須輸入</span>\n                    <input type=\"text\" placeholder=\"Created at\" v-model=\"tempData.publicationDate\"\n                    v-validate=\"'required'\" name=\"date\">\n                    <span class=\"text-danger\" v-if=\"errors.has('date')\">時間必須輸入</span>\n                    <textarea v-model=\"tempData.description\" v-validate=\"'required|min:10'\" name=\"msg\"></textarea>\n                    <span class=\"text-danger\" v-if=\"errors.has('msg')\">內文需超過十個字</span>\n                </div>\n            </section>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      // cid: '',\n      // edit: {},\n      // isNew: false,\n    };\n  },\n  methods: {\n    updateData() {\n      this.$validator.validate().then((result) => {\n        if (result) {\n          this.$store.dispatch('updateData');\n          if (this.$store.state.isNew) {\n            this.$router.push(`/`);\n          } else {\n            this.$router.push(`/content/books/${this.$store.state.cid}`);\n          }\n          console.log(result);\n        }\n      });\n    },\n    backData() {\n      this.$router.go(-1);\n      this.$store.state.isLoading = true;\n      setTimeout(() => {\n        this.$store.state.isLoading = false;      \n      }, 600);\n    },\n    getSingleData() {\n      this.$store.dispatch('postSingleData');\n    },\n    getDate() {\n      const n = Date.now();\n      const d = new Date(n);\n      const y = d.getFullYear();\n      const m = d.getMonth() + 1;\n      const dt = d.getDate();\n      const hour = d.getHours();\n      const min = d.getMinutes();\n      const sec = d.getSeconds();\n      const minis = d.getMilliseconds();\n      const day = `${y}-${m}-${dt}T${hour}:${min}:${sec}.${minis}Z`;\n      return day;\n    },\n  },\n  computed: {\n    tempData() {\n      return this.$store.state.tempData;\n    },\n    cid() {\n      return this.$store.state.cid;\n    },\n    edit() {\n      return this.$store.state.edit;\n    },\n    isNew() {\n      return this.$store.state.isNew;\n    },\n    author() {\n      return this.$store.state.author;\n    },\n    isLoading() {\n      return this.$store.state.isLoading;\n    },\n  },\n  watch: {\n    'this.$store.state.tempData': 'getSingleData',\n  },\n  created() {\n    this.$store.state.cid = this.$route.query.to;\n    if (this.$store.state.cid === undefined) {\n      this.$store.state.isNew = true;\n      this.$store.state.tempData = {};\n    } else {\n      this.getSingleData();\n      this.$store.state.isNew = false;\n    }\n    this.$store.state.tempData.publicationDate = this.getDate();\n    this.$store.state.isLoading = true;\n    setTimeout(() => {\n      this.$store.state.isLoading = false;      \n    }, 600);\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=6978f444&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","require('../../modules/es6.date.now');\nmodule.exports = require('../../modules/_core').Date.now;\n"],"sourceRoot":""}
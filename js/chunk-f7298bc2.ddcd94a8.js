(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f7298bc2"],{"0a0d":function(t,e,a){t.exports=a("e829")},1071:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"wrap"},[a("nav",{staticClass:"Content__P"},[a("div",{staticClass:"back",on:{click:t.backData}},[t._v("Back")]),t.isNew?a("div",{staticClass:"Content__title"},[t._v("Add new book")]):a("div",{staticClass:"Content__title"},[t._v(t._s(t.tempData.title))]),a("div",{staticClass:"edit",on:{click:t.updateData}},[t._v("Save")])]),a("section",{staticClass:"Edit__b"},[a("div",{staticClass:"Edit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.author,expression:"tempData.author"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"text",placeholder:"Author",name:"name"},domProps:{value:t.tempData.author},on:{input:function(e){e.target.composing||t.$set(t.tempData,"author",e.target.value)}}}),t.errors.has("name")?a("span",{staticClass:"text-danger"},[t._v("姓名必須輸入")]):t._e(),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.publicationDate,expression:"tempData.publicationDate"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"text",placeholder:"Created at",name:"date"},domProps:{value:t.tempData.publicationDate},on:{input:function(e){e.target.composing||t.$set(t.tempData,"publicationDate",e.target.value)}}}),t.errors.has("date")?a("span",{staticClass:"text-danger"},[t._v("時間必須輸入")]):t._e(),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempData.description,expression:"tempData.description"},{name:"validate",rawName:"v-validate",value:"required|min:10",expression:"'required|min:10'"}],attrs:{name:"msg"},domProps:{value:t.tempData.description},on:{input:function(e){e.target.composing||t.$set(t.tempData,"description",e.target.value)}}}),t.errors.has("msg")?a("span",{staticClass:"text-danger"},[t._v("內文需超過十個字")]):t._e()])])])],1)},i=[],n=a("0a0d"),o=a.n(n),r={data:function(){return{}},methods:{updateData:function(){var t=this;this.$validator.validate().then(function(e){e&&(t.$store.dispatch("updateData"),t.$store.state.isNew?t.$router.push("/"):t.$router.push("/content/books/".concat(t.$store.state.cid)),console.log(e))})},backData:function(){var t=this;this.$router.go(-1),this.$store.state.isLoading=!0,setTimeout(function(){t.$store.state.isLoading=!1},600)},getSingleData:function(){this.$store.dispatch("postSingleData")},getDate:function(){var t=o()(),e=new Date(t),a=e.getFullYear(),s=e.getMonth()+1,i=e.getDate(),n=e.getHours(),r=e.getMinutes(),c=e.getSeconds(),u=e.getMilliseconds(),d="".concat(a,"-").concat(s,"-").concat(i,"T").concat(n,":").concat(r,":").concat(c,".").concat(u,"Z");return d}},computed:{tempData:function(){return this.$store.state.tempData},cid:function(){return this.$store.state.cid},edit:function(){return this.$store.state.edit},isNew:function(){return this.$store.state.isNew},author:function(){return this.$store.state.author},isLoading:function(){return this.$store.state.isLoading}},watch:{"this.$store.state.tempData":"getSingleData"},created:function(){var t=this;this.$store.state.cid=this.$route.query.to,void 0===this.$store.state.cid?(this.$store.state.isNew=!0,this.$store.state.tempData={}):(this.getSingleData(),this.$store.state.isNew=!1),this.$store.state.tempData.publicationDate=this.getDate(),this.$store.state.isLoading=!0,setTimeout(function(){t.$store.state.isLoading=!1},600)}},c=r,u=a("2877"),d=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=d.exports},"2f37":function(t,e,a){var s=a("63b6");s(s.S,"Date",{now:function(){return(new Date).getTime()}})},e829:function(t,e,a){a("2f37"),t.exports=a("584a").Date.now}}]);
//# sourceMappingURL=chunk-f7298bc2.ddcd94a8.js.map